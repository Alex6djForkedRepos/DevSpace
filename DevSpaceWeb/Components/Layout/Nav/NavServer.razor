<div class="nav-list nav-list-sub nav-server">
    <div class="nav-list-header">
        <span class="iconify" data-icon="mdi:server"></span>
        <h5 style="color: var(--rz-menu-top-item-color) !important; text-decoration: none !important; height: 40px;">@Session.Selected.Server.Name</h5>
    </div>
    <RadzenPanelMenuItem Path="@("/teams/" + Session.Selected.Team.VanityUrl + "/servers/" + Session.Selected.Team.Server.VanityUrl + "/home")" Match="NavLinkMatch.All">
        <Template>
            <span class="iconify" data-icon="mdi:home"></span>
            <p>Home</p>
        </Template>
    </RadzenPanelMenuItem>

    <RadzenPanelMenuItem @bind-Expanded="DockerExpanded" Click="(() => ToolsExpanded = false)">
        <Template>
            <span class="iconify" data-icon="mdi:docker"></span>
            <p>Docker</p>
        </Template>
        <ChildContent>
            <RadzenPanelMenuItem Path="@("/teams/" + Session.Selected.Team.VanityUrl + "/servers/" + Session.Selected.Team.Server.VanityUrl + "/stacks")" Match="NavLinkMatch.All">
                <Template>
                    <span class="iconify" data-icon="ri:stack-fill"></span>
                    <p>Stacks</p>
                </Template>
            </RadzenPanelMenuItem>
            <RadzenPanelMenuItem Path="@("/teams/" + Session.Selected.Team.VanityUrl + "/servers/" + Session.Selected.Team.Server.VanityUrl + "/containers")" Match="NavLinkMatch.All">
                <Template>
                    <span class="iconify" data-icon="ri:box-3-fill"></span>
                    <p>Containers</p>
                </Template>
            </RadzenPanelMenuItem>
            <RadzenPanelMenuItem Path="@("/teams/" + Session.Selected.Team.VanityUrl + "/servers/" + Session.Selected.Team.Server.VanityUrl + "/images")" Match="NavLinkMatch.All">
                <Template>
                    <span class="iconify" data-icon="mdi:folder-image"></span>
                    <p>Images</p>
                </Template>
            </RadzenPanelMenuItem>
            <RadzenPanelMenuItem Path="@("/teams/" + Session.Selected.Team.VanityUrl + "/servers/" + Session.Selected.Team.Server.VanityUrl + "/volumes")" Match="NavLinkMatch.All">
                <Template>
                    <span class="iconify" data-icon="mdi:storage"></span>
                    <p>Volumes</p>
                </Template>
            </RadzenPanelMenuItem>
            <RadzenPanelMenuItem Path="@("/teams/" + Session.Selected.Team.VanityUrl + "/servers/" + Session.Selected.Team.Server.VanityUrl + "/networks")" Match="NavLinkMatch.All">
                <Template>
                    <span class="iconify" data-icon="mdi:local-area-network"></span>
                    <p>Networks</p>
                </Template>
            </RadzenPanelMenuItem>
            <RadzenPanelMenuItem Path="@("/teams/" + Session.Selected.Team.VanityUrl + "/servers/" + Session.Selected.Team.Server.VanityUrl + "/templates")" Match="NavLinkMatch.All">
                <Template>
                    <span class="iconify" data-icon="mdi:application-brackets"></span>
                    <p>Templates</p>
                </Template>
            </RadzenPanelMenuItem>
            <RadzenPanelMenuItem Path="@("/teams/" + Session.Selected.Team.VanityUrl + "/servers/" + Session.Selected.Team.Server.VanityUrl + "/registry")" Match="NavLinkMatch.All">
                <Template>
                    <span class="iconify" data-icon="mdi:table"></span>
                    <p>Registry</p>
                </Template>
            </RadzenPanelMenuItem>
            <RadzenPanelMenuItem Path="@("/teams/" + Session.Selected.Team.VanityUrl + "/servers/" + Session.Selected.Team.Server.VanityUrl + "/plugins")" Match="NavLinkMatch.All">
                <Template>
                    <span class="iconify" data-icon="mdi:power-plug"></span>
                    <p>Plugins</p>
                </Template>
            </RadzenPanelMenuItem>
        </ChildContent>
    </RadzenPanelMenuItem>

    <RadzenPanelMenuItem @bind-Expanded="ToolsExpanded" Click="(() => DockerExpanded = false)">
        <Template>
            <span class="iconify" data-icon="mdi:tools"></span>
            <p>Tools</p>
        </Template>
        <ChildContent>
            <RadzenPanelMenuItem Path="@("/teams/" + Session.Selected.Team.VanityUrl + "/servers/" + Session.Selected.Team.Server.VanityUrl + "/info")" Match="NavLinkMatch.All">
                <Template>
                    <span class="iconify" data-icon="mdi:information-slab-symbol"></span>
                    <p>System Info</p>
                </Template>
            </RadzenPanelMenuItem>
            <RadzenPanelMenuItem Path="@("/teams/" + Session.Selected.Team.VanityUrl + "/servers/" + Session.Selected.Team.Server.VanityUrl + "/process")" Match="NavLinkMatch.All" class="@(Server.IsRunningDockerContainer() ? "rz-navigation-item-disabled" : "")">
                <Template>
                    <span class="iconify" data-icon="mdi:chip"></span>
                    <p>Process Manager</p>
                </Template>
            </RadzenPanelMenuItem>
        </ChildContent>
    </RadzenPanelMenuItem>

    <RadzenPanelMenuItem Path="@("/teams/" + Session.Selected.Team.VanityUrl + "/servers/" + Session.Selected.Team.Server.VanityUrl + "/ssh")" Match="NavLinkMatch.All" class="@(Server.IsRunningDockerContainer() ? "rz-navigation-item-disabled" : "")">
        <Template>
            <span class="iconify" data-icon="mdi:console-line"></span>
            <p>SSH</p>
        </Template>
    </RadzenPanelMenuItem>
    <RadzenPanelMenuItem Path="@("/teams/" + Session.Selected.Team.VanityUrl + "/servers/" + Session.Selected.Team.Server.VanityUrl + "/status")" Match="NavLinkMatch.All">
        <Template>
            <span class="iconify" data-icon="mdi:cloud-check-variant"></span>
            <p>Status</p>
        </Template>
    </RadzenPanelMenuItem>
    <RadzenPanelMenuItem Path="@("/teams/" + Session.Selected.Team.VanityUrl + "/servers/" + Session.Selected.Team.Server.VanityUrl + "/firewall")" Match="NavLinkMatch.All" class="@(Server.IsRunningDockerContainer() ? "rz-navigation-item-disabled" : "")">
        <Template>
            <span class="iconify" data-icon="mdi:wall"></span>
            <p>Firewall</p>
        </Template>
    </RadzenPanelMenuItem>
    <RadzenPanelMenuItem Path="@("/teams/" + Session.Selected.Team.VanityUrl + "/servers/" + Session.Selected.Team.Server.VanityUrl + "/files")" Match="NavLinkMatch.All" class="@(Server.IsRunningDockerContainer() ? "rz-navigation-item-disabled" : "")">
        <Template>
            <span class="iconify" data-icon="mdi:folder"></span>
            <p>Files</p>
        </Template>
    </RadzenPanelMenuItem>
    <RadzenPanelMenuItem Path="@("/teams/" + Session.Selected.Team.VanityUrl + "/servers/" + Session.Selected.Team.Server.VanityUrl + "/database")" Match="NavLinkMatch.All">
        <Template>
            <span class="iconify" data-icon="mdi:database"></span>
            <p>Database</p>
        </Template>
    </RadzenPanelMenuItem>

    <RadzenPanelMenuItem Path="@("/teams/" + Session.Selected.Team.VanityUrl + "/servers/" + Session.Selected.Team.Server.VanityUrl + "/webhooks")" Match="NavLinkMatch.All">
        <Template>
            <span class="iconify" data-icon="mdi:webhook"></span>
            <p>Webhooks</p>
        </Template>
    </RadzenPanelMenuItem>
</div>

@code {
    [CascadingParameter]
    private SessionProvider Session { get; set; }

    public ServerData Server => Session.Selected.Server;

    public bool DockerExpanded { get; set; }
    public bool ToolsExpanded { get; set; }
}