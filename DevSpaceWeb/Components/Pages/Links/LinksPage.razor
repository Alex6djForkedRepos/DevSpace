@using DevSpaceWeb.Data.Links
@page "/previews/links"

<PageTitle>My Links | @_Data.Config.Instance.Name</PageTitle>

@if (Session.IsInstanceAdmin)
{
    <div class="dash-box dash-box-content">
        <div class="dash-box-header">
            <div class="dash-box-icon dash-box-back" onclick="history.back()">
                <span class="iconify" data-icon="mdi:link-variant"></span>
                <span class="iconify" data-icon="mdi:arrow-left-thick"></span>
            </div>
            <RadzenText TextStyle="TextStyle.H6">Link</RadzenText>
        </div>
        <RadzenAlert AlertStyle="AlertStyle.Info" Shade="Shade.Dark" AllowClose="false">
            This is a testing feature all fields are read-only.
        </RadzenAlert>
        <a href="/link" target="_blank"><RadzenButton ButtonStyle="ButtonStyle.Light" Shade="Shade.Default" Text="View Link" /></a>
        <br />
        <br />
        <RadzenText TextStyle="TextStyle.H6">Customize</RadzenText>
        <RadzenText TextStyle="TextStyle.Subtitle2" class="rz-mb-05">Title</RadzenText>
        <RadzenTextBox Value="@LinkData.Static.Title" ReadOnly="true" Style="width: 100%" aria-label="Title TextBox" />

        <br />
        <br />
        <RadzenText TextStyle="TextStyle.Subtitle2" class="rz-mb-05">Description</RadzenText>
        <RadzenTextArea Value="@LinkData.Static.Description" ReadOnly="true" Style="width: 100%" aria-label="Description TextBox" />

        <br />
        <br />
        <RadzenText TextStyle="TextStyle.Subtitle2" class="rz-mb-05">Link</RadzenText>
        <RadzenTextBox Value="@LinkData.Static.Link" ReadOnly="true" Style="width: 100%" aria-label="Link TextBox" />

        <br />
        <br />
        <RadzenText TextStyle="TextStyle.Subtitle2" class="rz-mb-05">Is Download</RadzenText>
        <RadzenSwitch Value="@LinkData.Static.IsDownload" ReadOnly="true" InputAttributes="@(new Dictionary<string, object>() { { "aria-label", "Is Download Switch" } })" />

        <br />
        <br />
        <RadzenText TextStyle="TextStyle.Subtitle2" class="rz-mb-05">Background URL</RadzenText>
        <RadzenTextBox Value="@LinkData.Static.BackgroundUrl" Style="width: 100%" ReadOnly="true" aria-label="Background URL TextBox" />

        <br />
        <br />
        <RadzenText TextStyle="TextStyle.Subtitle2" class="rz-mb-05">Button Timer Seconds</RadzenText>
        <RadzenNumeric Value="@LinkData.Static.ButtonTimer" ShowUpDown="false" ReadOnly="true" Style="width: 100%" aria-label="Timer TextBox" />

        <br />
        <br />
        <RadzenText TextStyle="TextStyle.H6">Code</RadzenText>
        <p>Does not work yet.</p>
        <RadzenText TextStyle="TextStyle.Subtitle2" class="rz-mb-05">Require Code</RadzenText>
        <RadzenSwitch Value="@LinkData.Static.RequireCode" ReadOnly="true" InputAttributes="@(new Dictionary<string, object>() { { "aria-label", "Require Code Switch" } })" />
        <br />
        <br />
        <RadzenText TextStyle="TextStyle.Subtitle2" class="rz-mb-05">Code</RadzenText>
        <RadzenTextBox Value="@LinkData.Static.Code" Style="width: 100%" aria-label="Code TextBox" ReadOnly="true" Disabled="@(!LinkData.Static.RequireCode)" />

        <br />
        <br />
        <RadzenText TextStyle="TextStyle.H6">Authentication</RadzenText>

        <RadzenText TextStyle="TextStyle.Subtitle2" class="rz-mb-05">Require Authentication</RadzenText>
        <RadzenSwitch Value="@LinkData.Static.RequireAuthentication" ReadOnly="true" InputAttributes="@(new Dictionary<string, object>() { { "aria-label", "Require Authentication Switch" } })" />

        <br />
        <br />
        <RadzenText TextStyle="TextStyle.Subtitle2" class="rz-mb-05">Require Member</RadzenText>
        <RadzenSwitch Value="@LinkData.Static.RequireMember" ReadOnly="true" Disabled="@(!LinkData.Static.RequireAuthentication)" InputAttributes="@(new Dictionary<string, object>() { { "aria-label", "Require Member Switch" } })" />

        <br />
        <br />
        <RadzenText TextStyle="TextStyle.Subtitle2" class="rz-mb-05">Require Roles</RadzenText>
        <RadzenSwitch Value="@LinkData.Static.RequireRoles" ReadOnly="true" Disabled="@(!LinkData.Static.RequireAuthentication || !LinkData.Static.RequireMember)" InputAttributes="@(new Dictionary<string,object>(){ { "aria-label", "Require Roles Switch" }})" />
    </div>
}

@code {
    [CascadingParameter]
    private SessionProvider Session { get; set; } = null!;
}
